<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
{% extends 'base.html' %}
    
    {% block content %}
        {% include 'navbar.html' %}
        <body>
            
            {% if operation == 'login' %}
                <form method="POST" action="?next={{ request.GET.next }}">
                    {% csrf_token %}
                    <input type="text" name="username" placeholder="Username" required>
                    <input type="password" name="password" placeholder="Password" required>
                    
                    <input type='submit' value='submit'/>
                </form>
                <a href="{% url 'register' %}">No account? Sign up</a>
                
            {% else %}
                <form method="POST" action="">
                    {% csrf_token %}
                    {{ form.as_p }}

                    <input type="submit" value="register">
                </form>
                <a href="{% url 'login' %}">Already have an account?</a>

            {% endif %}

            {{ operation|json_script:"operation" }}
            <script>
                const elements = document.getElementsByTagName("input"); // Select all <p> tags
                for (let i = 0; i < elements.length; i++) {
                    elements[i].required=true; // Change text color to blue
                }

                document.getElementById("submit").addEventListener("click", async (e) => {
                    e.preventDefault();
                    disable_button();

                    const formElement = document.getElementById("payment-form");
                    if (!formElement.checkValidity()) {
                        formElement.reportValidity();
                        return;
                    }
                });


                document.addEventListener("DOMContentLoaded", () => {
                    const operation = JSON.parse(document.getElementById("operation").textContent);
                
                    if (operation='login'){
                        document.title = 'Login | SHOEciety';
                    } else{
                        document.title = 'Sign up | SHOEciety'
                    }

                
                });

            </script>
        </body>
    {% endblock %}








